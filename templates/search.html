{% extends "base.html" %}

{% block main_content %}
<main>
    <h1>Search</h1>

    <!-- Search form -->
    <form method="get" action="{{ url_for('search_page') }}">
        <input
            type="text"
            name="term"
            placeholder="Search artists or albums"
            value="{{ term or '' }}"
            required
        >
        <button type="submit">Search</button>
    </form>

    {% if term %}
        <h2>Results for "{{ term }}"</h2>

        <!-- Artist results -->
        <h3>Artists</h3>
        {% if artists %}
            <ul>
            {% for artist in artists %}
                <li>
                    <a href="{{ url_for('artist', id=artist.artistID) }}">
                        {{ artist.name }}
                    </a>
                    ({{ artist.genre }})
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>No matching artists found.</p>
        {% endif %}

        <!-- Album results -->
        <h3>Albums</h3>
        {% if albums %}
            <ul>
            {% for album in albums %}
                <li>
                    <a href="{{ url_for('album_page', aid=album.albumID) }}">
                        {{ album.title }}
                    </a>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>No matching albums found.</p>
        {% endif %}
    {% endif %}
</main>
{% endblock %}
