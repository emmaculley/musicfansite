<!-- Ashley Yang, Dana Hammouri, Megan O'Leary, Emma Culley -->
<!-- Music Fansite-->
<!-- Renders a page that allows users to see the posts on a given forum -->
{% extends "base.html" %}
{% block main_content %}

<h1>{{ forum.title }}</h1>

<section>
    <h2>Posts</h2>

    {% if posts %}
        <div class="posts">
            {% for post in posts %}
                <div class="post">
                    <div class="post-header">
                        <strong>{{ post.fname }} {{ post.lname }}</strong>
                        <span class="timestamp">{{ post.created_at }}</span>
                    </div>

                    <p class="post-content">
                        {{ post.content }}
                    </p>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No posts yet — start the conversation!</p>
    {% endif %}
</section>


<hr>

<section>
    <h2>Post something of your own!</h2>
    <form method="POST">
        <label>Make a post!<textarea name="content" placeholder="Write something..." required></textarea></label>
        <br><br>
        <button type="submit">Post</button>
    </form>
</section>

<br>
<a href="{{ url_for('forums_type', type=forum.type) }}">← Back to {{ forum.type }} forums</a>

{% endblock %}

